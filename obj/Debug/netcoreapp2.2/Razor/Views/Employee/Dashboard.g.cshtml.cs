#pragma checksum "C:\Users\Mihn1\source\DSS\EmployeeChurnPredictive\EmployeeChurnPredictive\Views\Employee\Dashboard.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "72ced7208e29fa3773d32e393f0d7467215e9370"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Employee_Dashboard), @"mvc.1.0.view", @"/Views/Employee/Dashboard.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Employee/Dashboard.cshtml", typeof(AspNetCore.Views_Employee_Dashboard))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\Users\Mihn1\source\DSS\EmployeeChurnPredictive\EmployeeChurnPredictive\Views\_ViewImports.cshtml"
using EmployeeChurnPredictive;

#line default
#line hidden
#line 2 "C:\Users\Mihn1\source\DSS\EmployeeChurnPredictive\EmployeeChurnPredictive\Views\_ViewImports.cshtml"
using EmployeeChurnPredictive.Models;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"72ced7208e29fa3773d32e393f0d7467215e9370", @"/Views/Employee/Dashboard.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"6392e1a380d21b263a05387aff5aaf2d8e24caf2", @"/Views/_ViewImports.cshtml")]
    public class Views_Employee_Dashboard : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<IEnumerable<ECP.Core.Model.PredictedEmployee>>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 2 "C:\Users\Mihn1\source\DSS\EmployeeChurnPredictive\EmployeeChurnPredictive\Views\Employee\Dashboard.cshtml"
  
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_ECP.cshtml";
    ViewData["sidebar"] = "sidebar-collapse";

#line default
#line hidden
            BeginContext(186, 565, true);
            WriteLiteral(@"

<!-- Content Wrapper. Contains page content -->
<div class=""content-wrapper"">
    <!-- Content Header (Page header) -->
    <section class=""content-header"">
        <h1>
            Dashboard
        </h1>     
    </section>

    <!-- Main content -->
    <section class=""content"">
        <!-- Small boxes (Stat box) -->
        <div class=""row"">
            <div class=""col-lg-3 col-xs-6"">
                <!-- small box -->
                <div class=""small-box bg-aqua"">
                    <div class=""inner"">
                        <h3>");
            EndContext();
            BeginContext(752, 27, false);
#line 26 "C:\Users\Mihn1\source\DSS\EmployeeChurnPredictive\EmployeeChurnPredictive\Views\Employee\Dashboard.cshtml"
                       Write(ViewData["ActiveEmployees"]);

#line default
#line hidden
            EndContext();
            BeginContext(779, 234, true);
            WriteLiteral("</h3>\r\n                        <p>Active Employees</p>\r\n                    </div>\r\n                    <div class=\"icon\">\r\n                        <i class=\"ion ion-person-add\"></i>\r\n                    </div>\r\n                    <a");
            EndContext();
            BeginWriteAttribute("href", " href=\"", 1013, "\"", 1052, 1);
#line 32 "C:\Users\Mihn1\source\DSS\EmployeeChurnPredictive\EmployeeChurnPredictive\Views\Employee\Dashboard.cshtml"
WriteAttributeValue("", 1020, Url.Action("Index", "Employee"), 1020, 32, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1053, 354, true);
            WriteLiteral(@" class=""small-box-footer"">More info <i class=""fa fa-arrow-circle-right""></i></a>
                </div>
            </div>
            <!-- ./col -->
            <div class=""col-lg-3 col-xs-6"">
                <!-- small box -->
                <div class=""small-box bg-green"">
                    <div class=""inner"">
                        <h3>");
            EndContext();
            BeginContext(1408, 30, false);
#line 40 "C:\Users\Mihn1\source\DSS\EmployeeChurnPredictive\EmployeeChurnPredictive\Views\Employee\Dashboard.cshtml"
                       Write(ViewData["AttritionEmployees"]);

#line default
#line hidden
            EndContext();
            BeginContext(1438, 247, true);
            WriteLiteral("</h3>\r\n\r\n                        <p>Attrition Employees</p>\r\n                    </div>\r\n                    <div class=\"icon\">\r\n                        <i class=\"ion ion-ios-person-outline\"></i>\r\n                    </div>\r\n                    <a");
            EndContext();
            BeginWriteAttribute("href", " href=\"", 1685, "\"", 1724, 1);
#line 47 "C:\Users\Mihn1\source\DSS\EmployeeChurnPredictive\EmployeeChurnPredictive\Views\Employee\Dashboard.cshtml"
WriteAttributeValue("", 1692, Url.Action("Index", "Employee"), 1692, 32, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1725, 355, true);
            WriteLiteral(@" class=""small-box-footer"">More info <i class=""fa fa-arrow-circle-right""></i></a>
                </div>
            </div>
            <!-- ./col -->
            <div class=""col-lg-3 col-xs-6"">
                <!-- small box -->
                <div class=""small-box bg-yellow"">
                    <div class=""inner"">
                        <h3>");
            EndContext();
            BeginContext(2081, 21, false);
#line 55 "C:\Users\Mihn1\source\DSS\EmployeeChurnPredictive\EmployeeChurnPredictive\Views\Employee\Dashboard.cshtml"
                       Write(ViewData["RiskyRate"]);

#line default
#line hidden
            EndContext();
            BeginContext(2102, 275, true);
            WriteLiteral(@"<sup style=""font-size: 20px"">%</sup></h3>

                        <p>Attrition Risk Rate</p>
                    </div>
                    <div class=""icon"">
                        <i class=""ion ion-stats-bars""></i>
                    </div>
                    <a");
            EndContext();
            BeginWriteAttribute("href", " href=\"", 2377, "\"", 2416, 1);
#line 62 "C:\Users\Mihn1\source\DSS\EmployeeChurnPredictive\EmployeeChurnPredictive\Views\Employee\Dashboard.cshtml"
WriteAttributeValue("", 2384, Url.Action("Index", "Employee"), 2384, 32, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(2417, 352, true);
            WriteLiteral(@" class=""small-box-footer"">More info <i class=""fa fa-arrow-circle-right""></i></a>
                </div>
            </div>
            <!-- ./col -->
            <div class=""col-lg-3 col-xs-6"">
                <!-- small box -->
                <div class=""small-box bg-red"">
                    <div class=""inner"">
                        <h3>");
            EndContext();
            BeginContext(2770, 30, false);
#line 70 "C:\Users\Mihn1\source\DSS\EmployeeChurnPredictive\EmployeeChurnPredictive\Views\Employee\Dashboard.cshtml"
                       Write(ViewData["MostRiskDepartment"]);

#line default
#line hidden
            EndContext();
            BeginContext(2800, 239, true);
            WriteLiteral("</h3>\r\n\r\n                        <p>Most Risk Department</p>\r\n                    </div>\r\n                    <div class=\"icon\">\r\n                        <i class=\"ion ion-pie-graph\"></i>\r\n                    </div>\r\n                    <a");
            EndContext();
            BeginWriteAttribute("href", " href=\"", 3039, "\"", 3078, 1);
#line 77 "C:\Users\Mihn1\source\DSS\EmployeeChurnPredictive\EmployeeChurnPredictive\Views\Employee\Dashboard.cshtml"
WriteAttributeValue("", 3046, Url.Action("Index", "Employee"), 3046, 32, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3079, 4948, true);
            WriteLiteral(@" class=""small-box-footer"">More info <i class=""fa fa-arrow-circle-right""></i></a>
                </div>
            </div>
            <!-- ./col -->
        </div>
        <!-- /.row -->
        <!-- Main row -->
        <div class=""row"">
            <!-- Left col -->
            <section class=""col-lg-6"">
                <div class=""row"" style=""padding-left:15px;"">
                    <div class=""box box-success"">
                        <div class=""box-header with-border"">
                            <h3 class=""box-title"">Employee by Department</h3>

                            <div class=""box-tools pull-right"">
                                <button type=""button"" class=""btn btn-box-tool"" data-widget=""collapse"">
                                    <i class=""fa fa-minus""></i>
                                </button>
                                <button type=""button"" class=""btn btn-box-tool"" data-widget=""remove""><i class=""fa fa-times""></i></button>
                            </div>");
            WriteLiteral(@"
                        </div>
                        <div class=""box-body chart-responsive"">
                            <div class=""chart"" id=""deparment-count"" style=""height: 250px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);""></div>
                        </div>
                        <!-- /.box-footer -->
                        <!-- /.box-body -->
                    </div>
                </div>

                <div class=""row"" style=""padding-left:15px;"">
                    <div class=""box box-danger"">
                        <div class=""box-header with-border"">
                            <h3 class=""box-title"">Attrition Rate</h3>

                            <div class=""box-tools pull-right"">
                                <button type=""button"" class=""btn btn-box-tool"" data-widget=""collapse"">
                                    <i class=""fa fa-minus""></i>
                                </button>
                                <button type=""button"" class=""btn btn-box-tool"" ");
            WriteLiteral(@"data-widget=""remove""><i class=""fa fa-times""></i></button>
                            </div>
                        </div>
                        <div class=""box-body chart-responsive"">
                            <div class=""chart"" id=""attrition-rate"" style=""height: 250px; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);""> </div>
                        </div>
                        <!-- /.box-footer -->
                        <!-- /.box-body -->
                    </div>
                </div>

            </section>
            <!-- /.Left col -->
            <!-- right col (We are only adding the ID to make the widgets sortable)-->
            <section class=""col-lg-6"">
                <!-- Default box -->
                <div class=""box box-info"">
                    <div class=""box-header with-border"">
                        <h3 class=""box-title"">Top 10 Risky Employees</h3>
                        <div class=""box-tools pull-right"">
                            <button type=""button");
            WriteLiteral(@""" class=""btn btn-box-tool"" data-widget=""collapse"">
                                <i class=""fa fa-minus""></i>
                            </button>
                            <button type=""button"" class=""btn btn-box-tool"" data-widget=""remove""><i class=""fa fa-times""></i></button>
                        </div>
                    </div>
                    <div class=""box-body"">
                        <div class=""row"">
                            <div class=""col-md-12"">
                                <table id=""employee-table"" name=""employee-table"" class=""table table-striped table-bordered"">
                                    <thead>
                                        <tr>
                                            <th class=""col-md-2"">Employee No</th>
                                            <th class=""col-md-1"">Age</th>
                                            <th class=""col-md-3"">Department</th>
                                            <th class=""col-md-3"">Job Role</th>
 ");
            WriteLiteral(@"                                           <th class=""col-md-3"">Attrition Rate</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- /.box-body -->
                    <div class=""box-footer clearfix"">
                        <a href=""/Employee/Index"" class=""btn btn-sm btn-default btn-flat pull-right"">View All Employees</a>
                    </div>
                    <!-- /.box-footer-->
                </div>
                <!-- /.box -->

            </section>
            <!-- right col -->
        </div>
        <!-- /.row (main row) -->

    </section>
    <!-- /.content -->
</div>
<!-- /.content-wrapper -->

");
            EndContext();
            DefineSection("Scripts", async() => {
                BeginContext(8046, 5469, true);
                WriteLiteral(@"
    <script type=""text/javascript"" src=""https://www.gstatic.com/charts/loader.js""></script>
<script>
    
    $(document).ready(function () {
    
            $('#employee-table').DataTable({
                ""ajax"": {
                    ""url"": '/Employee/GetTopEmployees',
                    ""type"": 'GET',
                    ""datatype"": 'json'
                },
                ""columns"": [
                    { ""data"": ""employee.employeeId"" },
                    { ""data"": ""employee.age"" },
                    { ""data"": ""employee.department"" },                   
                    { ""data"": ""employee.jobRole"" },
                   {
                        ""data"": ""prediction.probability"",
                        ""render"": function (data) {    
                            let barClass;
                            let dataNum = Number(data) * 100;
                            if (dataNum >= 70) {
                                barClass = 'danger'
                            } else");
                WriteLiteral(@" if (dataNum >= 40) {
                                barClass = 'yellow'                           
                            } else {
                                barClass = 'success'
                            }
                            let progressBar = '<div title=""' + dataNum.toFixed(2) + '%"" class=""progress progress-xs""><div class=""progress-bar progress-bar-' + barClass + '"" style=""width: ' + dataNum +'%""></div></div>'
                            return progressBar;
                        }
                    }
                    
                ],
                 ""lengthChange"": false,
                ""info"": false,
                ""searching"": false,
                ""dom"": 'lrtip',
                ""scrollX"": false,
                ""ordering"": false,
                ""paging"": false,
                ""language"": {
                    ""emptyTable"": ""No data availble""
                }
            });
    })

            var rateData, countData;
      google.charts.l");
                WriteLiteral(@"oad('current', {
                packages: ['corechart', 'bar']
            });
            google.charts.setOnLoadCallback(LoadData);
            //function LoadData() {
            //    return false;
            //}
            function LoadData() {
                $.ajax({
                    url: '/Employee/PopulationAttritionRate',
                    dataType: ""json"",
                    type: ""GET"",
                    success: function (data) {
                        rateData = data;
                        PopulationAttritionRate(rateData);
                        return false;
                    }
                });


                $.ajax({
                    url: '/Employee/PopulationDepartmentCount',
                    dataType: ""json"",
                    type: ""GET"",
                    success: function (data) {
                        countData = data;
                        PopulationDepartmentCount(countData);
                        return false;
       ");
                WriteLiteral(@"             }
                });
                return false;
            }      

          
           


    function PopulationAttritionRate(data) {
        console.log('chk');
            var dataArray = [
                ['Department', 'Attrition Rate']
            ];
            $.each(data, function (i, item) {
                dataArray.push([item.department, item.attritionRate]);
            });
        var data = google.visualization.arrayToDataTable(dataArray);
            var options = {
                //title: 'Revenue',              
                colors: ['#dd4b39'],

                 vAxis: {
                    title: 'Percent (%)',
                    //maxValue: 100,
                    //minValue: 0,
                    gridlines: {
                        count: 4
                    }
                },
                legend: 'none',
                //pointSize: 6,
                //crosshair: { trigger: 'focus', color: 'rgb(60, 141, 188)', opacity:");
                WriteLiteral(@" 0.5 }

            };
            var chart = new google.visualization.ColumnChart(document.getElementById('attrition-rate'));

            chart.draw(data, options);
            return false;
        }


    function PopulationDepartmentCount(data) {
            var dataArray = [
                ['Department', 'Employee Count']
            ];
            $.each(data, function (i, item) {
                dataArray.push([item.department, item.employeeCount]);
            });
            var data = google.visualization.arrayToDataTable(dataArray);
            var options = {              
                colors: ['rgb(0, 166, 90)'],
                //hAxis: {
                //    title: 'Month'
                //    minValue: 0
                //},
                //curveType: 'function',
                vAxis: {
                    title: 'Employee Count',                 
                    gridlines: {
                        count: 4
                    }
                },");
                WriteLiteral(@"
                legend: 'none',
            };
        var chart = new google.visualization.ColumnChart(document.getElementById('deparment-count'));

            chart.draw(data, options);
            return false;
        }


    $(document).on('hover', 'td div', function () {
            $(this).tooltip();
        })
    </script>
");
                EndContext();
            }
            );
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<IEnumerable<ECP.Core.Model.PredictedEmployee>> Html { get; private set; }
    }
}
#pragma warning restore 1591
